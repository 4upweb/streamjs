/*! Stream.js v1.2.0 (2015-01-19) */
(function(){"use strict";var a=this,b="1.2.0",c={},d={},e=function(){};e.of=function(a){return z(a)?new f(a):A(a)?new g(a):new h(a)};var f=function(a){this.initialize(a)};f.prototype=new e,f.prototype.next=function(){if(this.origin>=this.fence)return d;try{return this.data[this.origin]}finally{this.origin++}},f.prototype.initialize=function(a){this.data=a||[],this.origin=0,this.fence=this.data.length};var g=function(a){this.initialize(a)};g.prototype=new e,g.prototype.initialize=function(a){this.data=a||{},this.keys=Object.keys(a),this.origin=0,this.fence=this.keys.length},g.prototype.next=function(){if(this.origin>=this.fence)return d;try{var a=this.keys[this.origin];return this.data[a]}finally{this.origin++}};var h=function(a){this.initialize(a)};h.prototype=new e,h.prototype.initialize=function(a){this.value=a,this.done=!1},h.prototype.next=function(){return this.done?d:(this.done=!0,this.value)};var i=function(){this.next=null,this.prev=null},j=function(a){this.iterator=e.of(a)};j.prototype=new i,j.prototype.advance=function(){var a=this.iterator.next();return a===d?a:null===this.next?a:this.next.pipe(a)};var k=function(a){this.fn=a};k.prototype=new i,k.prototype.advance=function(){return this.prev.advance()},k.prototype.pipe=function(a){var b=this.fn.call(c,a);return null===this.next?b:this.next.pipe(b)};var l=function(a){this.fn=a,this.iterator=null};l.prototype=new i,l.prototype.advance=function(){if(null===this.iterator)return this.prev.advance();var a=this.iterator.next();return a===d?(this.iterator=null,this.prev.advance()):null===this.next?a:this.next.pipe(a)},l.prototype.pipe=function(a){this.iterator=e.of(a);var b=this.iterator.next();return b===d?this.prev.advance():null===this.next?b:this.next.pipe(b)};var m=function(a){this.fn=a};m.prototype=new i,m.prototype.advance=function(){return this.prev.advance()},m.prototype.pipe=function(a){var b=this.fn.call(c,a);return b?null===this.next?a:this.next.pipe(a):this.prev.advance()};var n=function(a){this.prev=null,this.next=null,this.fn=a};n.prototype.advance=function(){var a=this.fn.call(c);return this.next.pipe(a)};var o=function(a){this.prev=null,this.next=null,this.filter=a.filter,this.finisher=a.finisher,this.buffer=null,this.i=0};o.prototype.advance=function(){var a;if(null===this.buffer){for(this.buffer=[];(a=this.prev.advance())!==d;)this.i++;this.finisher&&this.finisher.call(c,this.buffer)}return 0===this.buffer.length?d:(a=this.buffer.shift(),null!==this.next?this.next.pipe(a):a)},o.prototype.pipe=function(a){(!this.filter||this.filter.call(c,a,this.i,this.buffer))&&this.buffer.push(a)};var p=function(a){this.limit=a,this.i=0};p.prototype=new i,p.prototype.advance=function(){return this.prev.advance()},p.prototype.pipe=function(a){return this.i>=this.limit?d:(this.i++,null===this.next?a:this.next.pipe(a))};var q=function(a){this.skip=a,this.i=0};q.prototype=new i,q.prototype.advance=function(){return this.prev.advance()},q.prototype.pipe=function(a){return this.i<this.skip?(this.i++,this.prev.advance()):(this.i++,null===this.next?a:this.next.pipe(a))};var r=function(a){this.consumer=a};r.prototype=new i,r.prototype.advance=function(){return this.prev.advance()},r.prototype.pipe=function(a){return this.consumer.call(c,a),null===this.next?a:this.next.pipe(a)};var s=function(a){var b,f=this;b=x(a)?new n(function(){return a.call(c)}):new j(w(a)?a.split(""):a),this.add=function(a){if(null!==b){var c=b;a.prev=c,c.next=a}b=a},this.next=function(){return b.advance()},this.filter=function(){var a=arguments[0];return this.add(new m(B(a)?function(b){return a.test(b)}:a)),this},this.map=function(){var a=arguments[0];return this.add(new k(w(a)?v(a):a)),this},this.flatMap=function(){var a=arguments[0];return this.add(w(a)?new k(v(a)):new k(a)),this.add(new l),this},this.sorted=function(a){return this.add(new o({finisher:function(b){b.sort(a)}})),this},this.distinct=function(){return this.add(new o({filter:function(a,b,c){return c.indexOf(a)<0}})),this},this.skip=function(a){return this.add(new q(a)),this},this.limit=function(a){return this.add(new p(a)),this},this.peek=function(a){return this.add(new r(a)),this};var g={};g.toArray=function(){for(var a,b=[];(a=f.next())!==d;)b.push(a);return b},g.findFirst=function(){var a=f.next();return a===d?t.empty():t.ofNullable(a)},g.forEach=function(a){for(var b;(b=f.next())!==d;)a.call(c,b)},g.min=function(a){a=a||u;for(var b,e=null;(b=f.next())!==d;)(null===e||a.call(c,b,e)<0)&&(e=b);return t.ofNullable(e)},g.max=function(a){a=a||u;for(var b,e=null;(b=f.next())!==d;)(null===e||a.call(c,b,e)>0)&&(e=b);return t.ofNullable(e)},g.sum=function(){for(var a,b=0;(a=f.next())!==d;)b+=a;return b},g.average=function(){for(var a,b=0,c=0;(a=f.next())!==d;)c+=a,b++;return 0===c||0===b?t.empty():t.of(c/b)},g.count=function(){for(var a,b=0;(a=f.next())!==d;)b++;return b},g.allMatch=function(a){for(var b;(b=f.next())!==d;){var e=a.call(c,b);if(!e)return!1}return!0},g.anyMatch=function(a){for(var b;(b=f.next())!==d;){var e=a.call(c,b);if(e)return!0}return!1},g.noneMatch=function(a){for(var b;(b=f.next())!==d;){var e=a.call(c,b);if(e)return!1}return!0},g.collect=function(a){for(var b,e=a.supplier.call(c),g=!0;(b=f.next())!==d;)e=a.accumulator.call(c,e,b,g),g=!1;return a.finisher&&(e=a.finisher.call(c,e)),e},g.reduce=function(){var a=arguments[0],b=arguments[1];return b?f.collect({supplier:function(){return a},accumulator:b}):h(a)};var h=function(a){var b,e=f.next();if(e===d)return t.empty();for(;(b=f.next())!==d;)e=a.call(c,e,b);return t.ofNullable(e)};g.groupBy=function(a){return f.collect({supplier:function(){return{}},accumulator:function(b,d){var e=a.call(c,d);return b.hasOwnProperty(e)||(b[e]=[]),void 0===b[e]&&(b[e]=[]),b[e].push(d),b}})},g.toMap=function(a,b){return f.collect({supplier:function(){return{}},accumulator:function(d,e){var f=a.call(c,e);if(d.hasOwnProperty(f)){if(!b)throw"duplicate mapping found for key: "+f;return d[f]=b.call(c,d[f],e),d}return d[f]=e,d}})},g.partitionBy=function(){var a=arguments[0];if(x(a))return i(a);if(y(a))return s(a);throw"partitionBy requires argument of type function or number"};var i=function(a){return f.collect({supplier:function(){return{"true":[],"false":[]}},accumulator:function(b,d){var e=a.call(c,d);return b.hasOwnProperty(e)||(b[e]=[]),b[e].push(d),b}})},s=function(a){return f.collect({supplier:function(){return[]},accumulator:function(b,c){if(0===b.length)return b.push([c]),b;var d=b[b.length-1];return d.length===a?(b.push([c]),b):(d.push(c),b)}})};g.joining=function(a){var b="",c="",d="";return a&&(b=a.prefix||b,c=a.suffix||c,d=a.delimiter||d),f.collect({supplier:function(){return""},accumulator:function(a,b,c){var e=c?"":d;return a+e+String(b)},finisher:function(a){return b+a+c}})};var z=function(){this.value=f.next()};z.prototype=new e,z.prototype.next=function(){if(this.value===d)return{value:void 0,done:!0};var a=f.next(),b=a===d,c={value:this.value,done:b};return this.value=a,c},g.iterator=function(){return new z};var A=!1,C=function(a){return function(){try{if(A)throw"stream has already been operated upon";return a.apply(f,arguments)}finally{A=!0}}};for(var D in g)g.hasOwnProperty(D)&&(this[D]=C(g[D]));this.indexBy=this.toMap,this.partitioningBy=this.partitionBy,this.groupingBy=this.groupBy,this.each=this.forEach,this.toList=this.toArray,this.join=this.joining,this.avg=this.average,this.sort=this.sorted,this.size=this.count,this.findAny=this.findFirst};s.prototype.toString=function(){return"[object Stream]"};var t=function(a){this.isPresent=function(){return null!==a&&void 0!==a},this.get=function(){if(!this.isPresent())throw"optional value is not present";return a},this.ifPresent=function(b){this.isPresent()&&b.call(a,a)},this.orElse=function(b){return this.isPresent()?a:b},this.orElseGet=function(b){return this.isPresent()?a:b.call(c)},this.orElseThrow=function(b){if(this.isPresent())return a;throw b},this.filter=function(b){if(this.isPresent()){var d=b.call(c,a);return d?this:t.empty()}return this},this.map=function(b){if(this.isPresent()){var d=b.call(c,a);return t.ofNullable(d)}return this},this.flatMap=function(b){return this.isPresent()?b.call(c,a):this}};t.prototype.toString=function(){return"[object Optional]"},t.of=function(a){if(null===a||void 0===a)throw"value must be present";return new t(a)},t.ofNullable=function(a){return new t(a)},t.empty=function(){return new t(void 0)};var u=function(a,b){return a===b?0:a>b?1:-1},v=function(a){if(a.indexOf(".")<0)return function(b){return b[a]};var b=a.split(".");return function(a){for(var c=a,d=0;d<b.length;d++){var e=b[d];c=c[e]}return c}},w=function(a){return"[object String]"===Object.prototype.toString.call(a)},x=function(a){return"function"==typeof a||!1},y=function(a){return"[object Number]"===Object.prototype.toString.call(a)},z=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},A=function(a){return"object"==typeof a&&!!a},B=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},C=function(a){return new s(a)};C.range=function(a,b){for(var c=[],d=a;b>d;d++)c.push(d);return C(c)},C.rangeClosed=function(a,b){return C.range(a,b+1)},C.of=function(){var a=Array.prototype.slice.call(arguments);return C(a)},C.generate=function(a){return C(a)},C.iterate=function(a,b){var d=!0,e=a;return C(function(){return d?(d=!1,a):e=b.call(c,e)})},C.empty=function(){return C([])},C.VERSION=b,C.Optional=t;var D=a.Stream;C.noConflict=function(){return a.Stream=D,C},"undefined"!=typeof module&&module.exports?module.exports=C:"function"==typeof define&&define.amd?define("streamjs",[],function(){return C}):a.Stream=C}).call(this);
//# sourceMappingURL=stream-min.map