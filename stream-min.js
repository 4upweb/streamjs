/*! Stream.js v1.3.0 (2015-06-12) */
(function(){"use strict";function a(){}function b(a){this.initialize(a)}function c(a){this.initialize(a)}function d(a){this.initialize(a)}function e(a){this.initialize(a)}function f(){this.next=null,this.prev=null}function g(b){this.iterator=a.of(b)}function h(a){this.fn=a}function i(a){this.fn=a,this.iterator=null}function j(a){this.fn=a}function k(a){this.prev=null,this.next=null,this.fn=a}function l(a){this.prev=null,this.next=null,this.filter=a.filter,this.finisher=a.finisher,this.merger=a.merger,this.customMerge=t(this.merger),this.buffer=null,this.i=0}function m(a,b){this.begin=a,this.end=b,this.i=0}function n(a){this.consumer=a}function o(a){this.predicate=a}function p(a){this.predicate=a,this.border=!1}function q(b){var c,d=this;c=t(b)?new k(function(){return b.call(A)}):new g(s(b)?b.split(""):b),this.add=function(a){if(null!==c){var b=c;a.prev=b,b.next=a}c=a},this.next=function(){return c.advance()},this.filter=function(){var a=arguments[0];return this.add(new j(w(a)?function(b){return a.test(b)}:v(a)?function(b){return F(a,b)}:a)),this},this.map=function(){var a=arguments[0];return this.add(new h(s(a)?E(a):a)),this},this.flatMap=function(){var a=arguments[0];return this.add(s(a)?new h(E(a)):new h(a)),this.add(new i),this},this.sorted=function(a){var b;return b=t(a)?a:s(a)?D(a):C,this.add(new l({finisher:function(a){a.sort(b)}})),this},this.shuffle=function(){return this.add(new l({merger:function(a,b){if(0===b.length)b.push(a);else{var c=Math.floor(Math.random()*b.length),d=b[c];b[c]=a,b.push(d)}}})),this},this.reverse=function(){return this.add(new l({merger:function(a,b){b.unshift(a)}})),this},this.distinct=function(){return this.add(new l({filter:function(a,b,c){return c.indexOf(a)<0}})),this},this.slice=function(a,b){if(a>b)throw"slice(): begin must not be greater than end";return this.add(new m(a,b)),this},this.skip=function(a){return this.add(new m(a,Number.MAX_VALUE)),this},this.limit=function(a){return this.add(new m(0,a)),this},this.peek=function(a){return this.add(new n(a)),this},this.takeWhile=function(){var a=arguments[0];return this.add(new o(w(a)?function(b){return a.test(b)}:v(a)?function(b){return F(a,b)}:a)),this},this.dropWhile=function(){var a=arguments[0];return this.add(new p(w(a)?function(b){return a.test(b)}:v(a)?function(b){return F(a,b)}:a)),this};var e={};e.toArray=function(){for(var a,b=[];(a=d.next())!==B;)b.push(a);return b},e.findFirst=function(){var a=d.next();return a===B?r.empty():r.ofNullable(a)},e.forEach=function(a){for(var b;(b=d.next())!==B;)a.call(A,b)},e.min=function(a){var b;b=t(a)?a:s(a)?D(a):C;for(var c,e=null;(c=d.next())!==B;)(null===e||b.call(A,c,e)<0)&&(e=c);return r.ofNullable(e)},e.max=function(a){var b;b=t(a)?a:s(a)?D(a):C;for(var c,e=null;(c=d.next())!==B;)(null===e||b.call(A,c,e)>0)&&(e=c);return r.ofNullable(e)},e.sum=function(a){for(var b,c=a?E(a):function(a){return a},e=0;(b=d.next())!==B;)e+=c.call(A,b);return e},e.average=function(a){for(var b,c=a?E(a):function(a){return a},e=0,f=0;(b=d.next())!==B;)f+=c.call(A,b),e++;return 0===f||0===e?r.empty():r.of(f/e)},e.count=function(){for(var a,b=0;(a=d.next())!==B;)b++;return b},e.allMatch=function(){var a,b=arguments[0],c=b;for(w(b)?c=function(a){return b.test(a)}:v(b)&&(c=function(a){return F(b,a)});(a=d.next())!==B;){var e=c.call(A,a);if(!e)return!1}return!0},e.anyMatch=function(){var a,b=arguments[0],c=b;for(w(b)?c=function(a){return b.test(a)}:v(b)&&(c=function(a){return F(b,a)});(a=d.next())!==B;){var e=c.call(A,a);if(e)return!0}return!1},e.noneMatch=function(){var a,b=arguments[0],c=b;for(w(b)?c=function(a){return b.test(a)}:v(b)&&(c=function(a){return F(b,a)});(a=d.next())!==B;){var e=c.call(A,a);if(e)return!1}return!0},e.collect=function(a){for(var b,c=a.supplier.call(A),e=!0;(b=d.next())!==B;)c=a.accumulator.call(A,c,b,e),e=!1;return a.finisher&&(c=a.finisher.call(A,c)),c},e.reduce=function(){var a=arguments[0],b=arguments[1];return b?d.collect({supplier:function(){return a},accumulator:b}):f(a)};var f=function(a){var b,c=d.next();if(c===B)return r.empty();for(;(b=d.next())!==B;)c=a.call(A,c,b);return r.ofNullable(c)};e.groupBy=function(){var a=arguments[0];return s(a)&&(a=E(a)),d.collect({supplier:function(){return{}},accumulator:function(b,c){var d=a.call(A,c);return b.hasOwnProperty(d)||(b[d]=[]),void 0===b[d]&&(b[d]=[]),b[d].push(c),b}})},e.toMap=function(){var a=arguments[0];s(a)&&(a=E(a));var b=!1;return arguments.length>1&&(b=arguments[1]),d.collect({supplier:function(){return{}},accumulator:function(c,d){var e=a.call(A,d);if(c.hasOwnProperty(e)){if(!b)throw"duplicate mapping found for key: "+e;return c[e]=b.call(A,c[e],d),c}return c[e]=d,c}})},e.partitionBy=function(){var a=arguments[0];if(t(a))return q(a);if(u(a))return x(a);if(w(a))return q(function(b){return a.test(b)});if(v(a))return q(function(b){return F(a,b)});throw"partitionBy requires argument of type function, object, regexp or number"};var q=function(a){return d.collect({supplier:function(){return{"true":[],"false":[]}},accumulator:function(b,c){var d=a.call(A,c);return b.hasOwnProperty(d)||(b[d]=[]),b[d].push(c),b}})},x=function(a){return d.collect({supplier:function(){return[]},accumulator:function(b,c){if(0===b.length)return b.push([c]),b;var d=b[b.length-1];return d.length===a?(b.push([c]),b):(d.push(c),b)}})};e.joining=function(a){var b="",c="",e="";return a&&(s(a)?e=a:(b=a.prefix||b,c=a.suffix||c,e=a.delimiter||e)),d.collect({supplier:function(){return""},accumulator:function(a,b,c){var d=c?"":e;return a+d+String(b)},finisher:function(a){return b+a+c}})};var y=function(){this.value=d.next()};y.prototype=new a,y.prototype.next=function(){if(this.value===B)return{value:void 0,done:!0};var a=d.next(),b=a===B,c={value:this.value,done:b};return this.value=a,c},e.iterator=function(){return new y};var z=!1,G=function(a){return function(){try{if(z)throw"stream has already been operated upon";return a.apply(d,arguments)}finally{z=!0}}};for(var H in e)e.hasOwnProperty(H)&&(this[H]=G(e[H]));this.indexBy=this.toMap,this.partitioningBy=this.partitionBy,this.groupingBy=this.groupBy,this.each=this.forEach,this.toList=this.toArray,this.join=this.joining,this.avg=this.average,this.sort=this.sorted,this.size=this.count,this.findAny=this.findFirst}function r(a){this.isPresent=function(){return null!==a&&void 0!==a},this.get=function(){if(!this.isPresent())throw"optional value is not present";return a},this.ifPresent=function(b){this.isPresent()&&b.call(a,a)},this.orElse=function(b){return this.isPresent()?a:b},this.orElseGet=function(b){return this.isPresent()?a:b.call(A)},this.orElseThrow=function(b){if(this.isPresent())return a;throw b},this.filter=function(b){if(this.isPresent()){var c=b.call(A,a);return c?this:r.empty()}return this},this.map=function(b){if(this.isPresent()){var c=b.call(A,a);return r.ofNullable(c)}return this},this.flatMap=function(b){return this.isPresent()?b.call(A,a):this}}function s(a){return"[object String]"===G.call(a)}function t(a){return"function"==typeof a||!1}function u(a){return"[object Number]"===G.call(a)}function v(a){return"object"==typeof a&&!!a}function w(a){return"[object RegExp]"===G.call(a)}function x(a){return new q(a)}var y=this,z="1.4.0",A={},B={};a.of=function(a){return null===a||void 0===a?new e(a):H(a)?new b(a):v(a)?new c(a):new d(a)},b.prototype=new a,b.prototype.next=function(){if(this.origin>=this.fence)return B;try{return this.data[this.origin]}finally{this.origin++}},b.prototype.initialize=function(a){this.data=a||[],this.origin=0,this.fence=this.data.length},c.prototype=new a,c.prototype.initialize=function(a){this.data=a||{},this.keys=Object.keys(a),this.origin=0,this.fence=this.keys.length},c.prototype.next=function(){if(this.origin>=this.fence)return B;try{var a=this.keys[this.origin];return this.data[a]}finally{this.origin++}},d.prototype=new a,d.prototype.initialize=function(a){this.value=a,this.done=!1},d.prototype.next=function(){return this.done?B:(this.done=!0,this.value)},e.prototype=new a,e.prototype.initialize=function(a){this.value=a,this.done=!0},e.prototype.next=function(){return B},g.prototype=new f,g.prototype.advance=function(){var a=this.iterator.next();return a===B?a:null===this.next?a:this.next.pipe(a)},h.prototype=new f,h.prototype.advance=function(){return this.prev.advance()},h.prototype.pipe=function(a){var b=this.fn.call(A,a);return null===this.next?b:this.next.pipe(b)},i.prototype=new f,i.prototype.advance=function(){if(null===this.iterator)return this.prev.advance();var a=this.iterator.next();return a===B?(this.iterator=null,this.prev.advance()):null===this.next?a:this.next.pipe(a)},i.prototype.pipe=function(b){this.iterator=a.of(b);var c=this.iterator.next();return c===B?this.prev.advance():null===this.next?c:this.next.pipe(c)},j.prototype=new f,j.prototype.advance=function(){return this.prev.advance()},j.prototype.pipe=function(a){var b=this.fn.call(A,a);return b?null===this.next?a:this.next.pipe(a):this.prev.advance()},k.prototype.advance=function(){var a=this.fn.call(A);return this.next.pipe(a)},l.prototype.advance=function(){var a;if(null===this.buffer){for(this.buffer=[];(a=this.prev.advance())!==B;)this.i++;this.finisher&&this.finisher.call(A,this.buffer)}return 0===this.buffer.length?B:(a=this.buffer.shift(),null!==this.next?this.next.pipe(a):a)},l.prototype.pipe=function(a){this.filter&&this.filter.call(A,a,this.i,this.buffer)===!1||(this.customMerge?this.merger.call({},a,this.buffer):this.buffer.push(a))},m.prototype=new f,m.prototype.advance=function(){return this.prev.advance()},m.prototype.pipe=function(a){return this.i>=this.end?B:(this.i++,this.i<=this.begin?this.prev.advance():null===this.next?a:this.next.pipe(a))},n.prototype=new f,n.prototype.advance=function(){return this.prev.advance()},n.prototype.pipe=function(a){return this.consumer.call(A,a),null===this.next?a:this.next.pipe(a)},o.prototype=new f,o.prototype.advance=function(){return this.prev.advance()},o.prototype.pipe=function(a){var b=this.predicate.call(A,a);return b!==!0?B:null===this.next?a:this.next.pipe(a)},p.prototype=new f,p.prototype.advance=function(){return this.prev.advance()},p.prototype.pipe=function(a){if(!this.border){var b=this.predicate.call(A,a);if(b===!0)return this.prev.advance();this.border=!0}return null===this.next?a:this.next.pipe(a)},q.prototype.toString=function(){return"[object Stream]"},r.prototype.toString=function(){return"[object Optional]"},r.of=function(a){if(null===a||void 0===a)throw"value must be present";return new r(a)},r.ofNullable=function(a){return new r(a)},r.empty=function(){return new r(void 0)};var C=function(a,b){return a===b?0:a>b?1:-1},D=function(a){var b=E(a);return function(a,c){var d=b(a),e=b(c);return C(d,e)}},E=function(a){if(a.indexOf(".")<0)return function(b){return b[a]};var b=a.split(".");return function(a){for(var c=a,d=0;d<b.length;d++){var e=b[d];c=c[e]}return c}},F=function(a,b){if(!v(a))return a===b;if(!v(b))return!1;for(var c in a)if(a.hasOwnProperty(c)){if(!b.hasOwnProperty(c))return!1;var d=a[c],e=b[c],f=F(d,e);if(!f)return!1}return!0},G=Object.prototype.toString,H=Array.isArray||function(a){return"[object Array]"===G.call(a)};x.range=function(a,b){for(var c=[],d=a;b>d;d++)c.push(d);return x(c)},x.rangeClosed=function(a,b){return x.range(a,b+1)},x.of=function(){var a=Array.prototype.slice.call(arguments);return x(a)},x.generate=function(a){return x(a)},x.iterate=function(a,b){var c=!0,d=a;return x(function(){return c?(c=!1,a):d=b.call(A,d)})},x.empty=function(){return x([])},x.VERSION=z,x.Optional=r;var I=y.Stream;x.noConflict=function(){return y.Stream=I,x},"undefined"!=typeof module&&module.exports?module.exports=x:"function"==typeof define&&define.amd?define("streamjs",[],function(){return x}):y.Stream=x}).call(this);
//# sourceMappingURL=stream-min.map